-- GUI تجربة ريموتات تلقائياً (واحد واحد)
local gui = Instance.new("ScreenGui", game.CoreGui)
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 350, 0, 300)
frame.Position = UDim2.new(0, 10, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BorderSizePixel = 0

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "🧪 تجربة الريموتات تلقائي"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.TextScaled = true
title.Font = Enum.Font.GothamBold

local scroll = Instance.new("ScrollingFrame", frame)
scroll.Position = UDim2.new(0, 0, 0, 35)
scroll.Size = UDim2.new(1, 0, 1, -75)
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.BackgroundTransparency = 1
scroll.ScrollBarThickness = 6

local startBtn = Instance.new("TextButton", frame)
startBtn.Size = UDim2.new(1, 0, 0, 35)
startBtn.Position = UDim2.new(0, 0, 1, -35)
startBtn.Text = "🚀 جرّب الريموتات تلقائيًا (واحد واحد)"
startBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
startBtn.TextColor3 = Color3.new(1, 1, 1)
startBtn.TextScaled = true
startBtn.Font = Enum.Font.GothamBold
startBtn.BorderSizePixel = 0

local remotes = {}
for _, obj in pairs(game:GetDescendants()) do
    if (obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction")) and not obj:IsDescendantOf(game.Players) then
        table.insert(remotes, obj)
    end
end

local count = 0
for _, r in pairs(remotes) do
    local label = Instance.new("TextLabel", scroll)
    label.Size = UDim2.new(1, -10, 0, 30)
    label.Position = UDim2.new(0, 5, 0, count * 32)
    label.Text = r.ClassName .. " → " .. r:GetFullName()
    label.TextColor3 = Color3.new(1, 1, 1)
    label.BackgroundTransparency = 1
    label.TextScaled = true
    label.Font = Enum.Font.SourceSansBold
    count += 1
end
scroll.CanvasSize = UDim2.new(0, 0, 0, count * 32)

startBtn.MouseButton1Click:Connect(function()
    print("✅ بدء تجربة الريموتات تلقائيًا...")
    for _, r in pairs(remotes) do
        print("🧪 تجرب: ", r:GetFullName())
        pcall(function()
            if r:IsA("RemoteEvent") then
                r:FireServer("test", true, 999)
            elseif r:IsA("RemoteFunction") then
                local result = r:InvokeServer("test", true, 999)
                print("🔁 نتيجة:", result)
            end
        end)
        wait(1.5) -- تأخير بين كل ريموت حتى تتفادى الطرد
    end
end)
